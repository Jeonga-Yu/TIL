# AWS서버 환경을 만들어 보자 - AWS EC2

외부에서 본인이 만든 서비스에 접근하려면 24시간 작동하는 서버가 필수이다.

- 집에 PC를 24시간 구동시킨다.
- 호스팅 서비스(Cafe24, 코리아 호스팅 등)을 이용한다.
- 클라우드 서비스(AWS, AZURE, GCP 등)을 이용한다.

### 클라우드 서비스

인터넷(클라우드)를 통해 서버, 스토리지(파일 저장소), 데이터베이스, 네트워크, 소프트웨어, 모니터링 등의 컴퓨팅 서비스를 제공하는 것

AWS의 EC2의 경우 서버 장비를 대여하는 것이지만, 실제로는 그 안의 로그 관리, 모니터링, 하드웨어 교체, 네트워크 관리 등을 기본적으로 지원한다.

- Infrastructure as a Service(IaaS, 아이아스, 이에스)

    기존 물리장비를 미들웨어와 함께 묶으둔 추상화 서비스이다.

    가상머신, 스토리지, 네트워크, 운영체제 등의 IT인프라를 대여해주는 서비스

    AWS의 EC2, S3 등

- Platform as a Service(PaaS, 파스)

    Iaas에서 한 번 더 추상화한 서비스로 많은 기능이 자동화 되어있다.

    AWS의 Beanstalk, Heroku 등

- Software as a Service(SaaS, 사스)

    소프트웨어 서비스를 이야기한다.

    구글 드라이브, 드랍박스, 와탭 등

## 6.2 EC2 인스턴스 생성하기

EC2(Elastic Compute Cloud)는 AWS에서 제공하는 성능, 용량 등을 유동적으로 사용할 수 있는 서버이다. 보통 'AWS에서 리눅스 서버 혹은 윈도우 서버를 사용합니다.'라고 하면 이 EC2를 이야기하는 것이다.

### 제한사항

- 사양이 t2.micro만 가능하다

    vCPU(가상 cpu) 1 core, 메모리 1 GB사양

    보통 vCPU는 물리 CPU사양의 절반 정도의 성능을 가진다

- 월 750시간의 제한이 있다. 초과하면 비용이 부과된다.

    1대의 t2.micro만 사용한다면 24시간 사용할 수 있다.

### 리전 확인

리전이란 AWS의 서비스가 구동될 지역을 이야기한다. 

국내에서 서비스한다면 서울 리전을 선택하면 된다.

### AMI(Amazone Machin Image)

EC2 인스턴스를 시작하는 데 필요한 정보를 이미지로 만들어 둔 것

인스턴스라는 가상머신에 운영체제 등을 설치할 수 있게 구워 넣은 이미지로 생각하면 된다.

- 국내 자료가 리눅스1이 더 많기 때문에 리눅스2가 아닌 1선택해서 진행
- 센토스AMI를 사용하지 않고 아마존 리눅스 AMI를 사용하는 이유

    아마존이 개발하고 있기 때문에 지원받기가 쉽다

    AWS의 각종 서비스와 상성이 좋다

    Amazone 독자적인 개발 리포지터리를 사용하고 있어 yum이 매우 빠르다

### 보안그룹

방화벽을 말한다. 굉장히 중요한 부분!

SSH 면서 포트가 22 인 경우 → AWS EC2에 터미널로 접속할 때

### pem 키 (비밀키)

인스턴스로 접근하기 위해서 필요

인스턴스는 지정된 pem키와 매칭되는 공개키를 가지고 있어, 해당 pem키 외에는 접근을 허용하지 않는다.

일종의 마스터키 이므로 절대 유출되지 않도록 주의한다.


### pem 키 복사

    cp pem키 위치 ~/.ssh

### 권한 변경

    chmod 600 ~/.ssh/pem키 이름
